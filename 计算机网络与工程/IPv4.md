IPv4 是互联网的核心协议，提供不可靠、无连接、尽最大努力交付的数据报服务。

### IPv4 分组格式 #重点

- 一个 IP 数据报由 **首部** 和 **数据** 两部分组成。
- **固定首部 (20 字节)**：
    - **版本** (4 bit)：IPv4 为 4。
    - **首部长度** (4 bit)：以 4 字节为单位，最大 60 字节。
    - **总长度** (16 bit)：首部 + 数据，最大 65535 字节。
    - **标识、标志、片偏移**：用于 [[IP分片与重装]]。
    - **生存时间 (TTL)** (8 bit)：最大跳数，每过一个路由器减 1，减为 0 丢弃。
    - **协议** (8 bit)：指示交给哪个传输层协议 (TCP=6, UDP=17)。
    - **首部校验和** (16 bit)：仅校验首部。
    - **源地址、目的地址** (各 32 bit)。

![[IPv4地址]]

![[子网划分与CIDR]]

![[IP分片与重装]]

![[NAT]]