可靠传输是指发送方发送什么，接收方就收到什么。在数据链路层，主要通过**确认**和**重传**机制实现。

## 关键机制 #重点

- **确认 (ACK)**：接收方告诉发送方分组已正确接收。
- **否定确认 (NAK)**：接收方告诉发送方分组未正确接收。
- **超时计时器**：发送方发送分组后启动，若规定时间内未收到确认，则重传。
- **序号**：用于区分新分组与重传的分组，防止重复。
- **流水线技术**：允许在未收到确认前连续发送多个分组，提高信道利用率。

![[停止-等待协议]]

![[后退N帧协议]]

![[选择重传协议]]

![[滑动窗口协议]]

## 协议比较 #重点

| 协议 | 发送窗口 ($W_S$) | 接收窗口 ($W_R$) | 序号 $n$ 与窗口关系 |
| :--- | :--- | :--- | :--- |
| **停止 - 等待 (SW)** | 1 | 1 | $W_S + W_R \le 2^n$ ($n \ge 1$) |
| **后退 N 帧 (GBN)** | $>1$ | 1 | $W_S + W_R \le 2^n$ |
| **选择重传 (SR)** | $>1$ | $>1$ | $W_S + W_R \le 2^n$, 通常 $W_S = W_R = 2^{n-1}$ |