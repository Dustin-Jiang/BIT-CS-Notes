本章讨论计算机各部件之间的互连方式以及与外部设备的通信。

## 总线技术

- **总线分类**：数据总线、地址总线、控制总线。
- **总线仲裁**：解决多个设备竞争总线使用权的问题。

## I/O 接口 (Interface)

由于主机（高速）与外设（低慢速）存在巨大的速度和电平差异，必须通过接口连接。详细结构与功能见 [[IO接口与端口]]。

## I/O 信息传输控制方式 #重点

计算机与外设进行通信的逻辑连接方式主要有四种：

1. **[[程序查询方式]]**: CPU 踏步等待，效率最低，仅适用于简单系统。
2. **[[中断方式]]**: 
    - 解决了 CPU 忙等问题，提高并行性。
    - 现代计算机主要利用 [[中断系统]] 处理异常和突发事件。
    - 处理次序可通过 [[中断屏蔽技术]] 动态调整。
3. **[[DMA方式]]**: 
    - 在主存与外设间建立专用数据通路。
    - 响应时间比中断更早（机器周期结束即可响应）。
4. **[[通道方式]]**: 
    - 专用 I/O 处理器，管理大量并发设备，常见于大型机。

### 核心对比：中断 vs DMA #重点

| 特性 | 中断方式 | DMA 方式 |
| :--- | :--- | :--- |
| **数据路径** | 内存 $\leftrightarrow$ CPU $\leftrightarrow$ 外设 | 内存 $\leftrightarrow$ 外设 (不经 CPU) |
| **响应时机** | **指令周期**结束时 | **机器周期**结束时 |
| **控制主体** | CPU 执行程序 | DMA 控制器 (硬件) |
| **主要用途** | 异常处理、低速 I/O | 高速数据块传输 |

## 外设编址方式

1. **独立编址 (Isolated I/O)**: 
   - I/O 地址空间与内存地址空间完全独立。
   - 使用专用指令（如 `IN`, `OUT`）。Intel 常用。
2. **统一编址 (Memory-mapped I/O)**: 
   - 将外设端口看作内存单元，共享内存地址空间。
   - 使用通用指令（如 `MOVE`），无需专用 I/O 指令。

