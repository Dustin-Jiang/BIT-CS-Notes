## 基本概念

- **中断响应次序**: 由硬件判优电路决定, 优先级通常是固定好的。
- **中断处理次序**: 指实际执行中断服务程序的先后顺序。

## 屏蔽技术的作用 #重点

利用**中断屏蔽技术**, 我们可以在不改变硬件判优次序的前提下, 动态地改变中断的**处理次序**, 实现“先响应, 后处理”。

## 实现原理

- **屏蔽触发器**: 为每个中断源配备一个屏蔽触发器。
- **屏蔽寄存器**: 由多个屏蔽触发器组成。
- **屏蔽字 (Mask Word)**: 写入屏蔽寄存器的二进制代码。
    - `1` 表示屏蔽该级中断;
    - `0` 表示开放该级中断。

## 应用示例

若有 4 个中断源, 默认响应次序为 $1 \to 2 \to 3 \to 4$。
通过修改屏蔽码, 可以将处理次序改为 $1 \to 4 \to 3 \to 2$。

- 当 CPU 执行 3 号中断服务程序时, 若 4 号请求发生, 由于 4 号在 3 号的屏蔽字中被设为开放 (且优先级逻辑上更高), CPU 会暂停 3 号去执行 4 号, 形成**中断嵌套**。
