screen_ 计算机组成与体系结构 _ 第 11 周 _ 星期四 _ 第 2 大节 _ 原文
2026 年 01 月 01 日 17:50
今天我们需要调上习题课。

是的。

这是三班的。

那个是什么？

好，请同学们把你的手机拿出来，我们签个到。

五分钟之内有效，现在是 9 点 57，10.02 之前有效。

看一下时间，五分钟之内有效，过了五分钟之后，就算你签我，我也我也不认。

这边是四班。稍等一下，我现在没有。

这个不行，等等，大家都等一会儿，刚才我也遇到这问题，稍等会又有延迟。

我现在行，等一会儿。刚才我还有延迟，或者他系统没开，你去开吗？要不你们把如果现在定位不了的话，你就把截屏发给我就是这个截屏就是刚才那个你们定位不了，那个截屏发给我。不是，这个是跟他比较慢，可以跟得上。如果这个时间段内你们定位不了，就请现在截图，截完图以后发给我好吧，不要就直接发给我就行。

好。

好，那么咱们开始今天的课。咱们今天的安排是这样的。第一我大概用一节课把微程序，就是控制器的流水微程序控制原理讲了，那么可能会涉及到流水线，我们会放到下一集。剩下两节课的时间，我会把你们第四章和第五章的对课后作业定订正一下。一句话，第四章和第五章的作业很多同学做的我不满意，这是第一点。第二点，你们可以看看你们拿到作业有的错误你指出来。

那么有种错误说难听的讲，比如说第四章计算问题，比如说我们要求用原码一位乘法规则进行计算。个别同学是按照我们这个手算的规则去计算，答案是对的，是不是？但是坦率讲，这不是我们要求大家去掌握的方法。换句话说，你考试的时候这么写是直接是零分，一分不给。我们一定按照我们讲的规则去来，这点希望大家注意一下。

还有第五章我们讲存储器设计问题，有些同学说白了很不认真，对吧？就画一张图，任何标注都没有，而且你标注你标清楚了是吧？什么片选信号的输入输出，你的这个 S 杠 WC 的读写访问控制，你画对了是吧？不做任何标志，给我就贴一张图。那么这个在考试的时候，比如说 1 到 12 分一题，你光一张我给你三扣两扣，你觉得你能得个八分，恐怕下来只有三分是吧？

每一年有同学都是说，对，这老师给的分跟我预期差很大，那么这个都是有原因的是吧？还有一点就是咱们每次签到事实上来的同学应该来说就继续保持。主要我的签到就没有来得及去，没有来的同学你不签到，那么就是我会关注的。

这一次你们的这个作业我看了一下，交的作业恐怕按照以往咱们期末考试，大概咱们这门课应该是 10% 的不及格率。咱们一个班就是 30 个人的话，一共是两三个人。但是就你们目前作业做的情况，肯定不止这个数是吧？咱们是 124 位，123 位同学是吧，那么。平时来的有多少同学？咱们大家可以站起来，可以自己看一下，心中都有数是吧。

来的同学我觉得你过关考试这肯定没问题。只要你上课认真学了，听了肯定没有问题，怕的就是不来。他说他听线上真的吗？假的我不知道。那么对于这种同学是比较危险的，因为我们考试变成你想当年你说你拿个答案我给你分，想不想？不按照要求去写，而且我在题干里说的很清楚了，要用什么方法？你不按着做，你想你能得分吗？不要说你答案对，答案如果光是答案对的话，我考个小学生就够了。

为什么你们还考了大学？坐在大学教室去考试，肯定要求不一样，是吧？这个我再强调一下。好，上节课咱们开始了有关控制器最核心部件为这信就控制信号发射器的一个学习。上节课我们通过这个控制器的内部构造，我们发现我们控制器是分成了四大部分。最核心的是微操作信号发生器。

微操作信号发生器目前我们做工程实现的时候有 3 种方案。第一种就是我们门店路这种方式，就是根据我的输入输出信号量的逻辑关系，用数字电路的这个设计方案进行一个求解。这种方式用门电路去实现，我们说它最大优点由于全都是第二个信号，因此它的运行效率最高速度最快。但是它的缺点，一旦在设计过程中出现设计错误，那么门店是不可修正的是吧？因为你你工你生产制造好了，你是不可修正的。

早期用门电路，现在计算机考虑了我们这个 CPU 指令的扩展问题。现在计算机有关微操作信号发生器，基本不采用门电路，而采用我们这里要我要讲的第四节微程序控制原理，就利用将一条机器指令转为一段微程序，通过微程序的执行以实现一条机器指令的执行。这是现代计算机我们的主要的一个处理手段。这种手段相比门电路这种方式，它的弱项是它的速度要慢，你比这个电路慢很多，优点是什么？在后期如果对 CPU 增加指令的时候，它比较方便的扩充。

第二，在指令运行过程中，如果发现错误，我会及时修正。因此我们说现在计算机都是采用微程序控制原理来构建我的微操作信号发射器。我们说这种理念就微操微程序控制原理这种理论。大家看一下在内不要走。

大概在 1951 年，我们 46 年是世界第一台计算机文诺依曼架构。大概是在 50 年吧？也就是说这是 51 年。这几块这种理论体系都是彼此独立的。最后我们后面的企业工程师把这些理论挪到一起，形成项目计算机。

51 年由英国剑桥大学一位教授提出的微程序设计的理念和原理。过了十几年，到了 64 年，美国 RBM 公司生产它的大型机系统 RBM360370。这个二点是 3603070 这个设备，属于当时比较成功的一代大型机系统。大型机它大致其上世纪 60 年代大概有 180 几条机器制定。这 180 几条机器指令就是按照我们微程序设计的方法进行 CPU 指令的设计。

当然我们的 RDM370，一般来说在哪一本书上大家还会见到 20370，一个是在咱们计算机组织体系结构这门课，我们之前也学过，它是大机系统的那指定只有 183 条。除此之外你们下学期可能要学项目管理是吧？还是正在学项目管理？我们来应该是下学期，不上下学期，因为你们大纲没变。那么在学软件项目管理这门课的时候，在讲我们这个软件危机的时候，一定会提到 RBM360370 这个大提醒。因为当时的这个所谓的 8.536037 操作系统的主要的设计领导者。实际上尽管后期他是完成了这个系统设计，但是他觉得他做的很不好。

后来这位设计领导者就离开 IBM 公司，去美国一所高校任教。他写出了一本非常有名的。这个软件项目管理数据叫农业神话。

你们可以看软件项目管理有一本非常有名的是人的神话。就是写就是将它做 RDM360370 大型机操作系统的开发经验做了一个归纳，叫写一本书。人月神话是我们软件项目管理的一个经典的。初级这个请大家一定要明确一下。下面咱们看一下，这是 RBM36 和 370。

到了上个世纪 70 年代，随着超大规模集成电路的设计快速普及和成功应用，目前世界上绝大部分计算机都采用微程序设计技术来构造指令系统的解析。一句话，微程序设计技术就是将我们程序设计的思想和存储技术思想结合起来。将我们的每一条机器指令转化成一段微程序。通过这段煨程序的执行，以达到我们所对应的机器指令的执行。事实上在我们之前第七章再讲一个我们讲的例子，叫 AB2 层。

这个加法指令我们在描述的时候那么大，我们第一次在课堂上看到了一段微程序，一条机器人一个加法指令，它对应的我的微程序长什么样？也就是说一条机器指令我们转变成了一段微程序。咱们看一下他相关的一些，这个之前我们讲的是一个理性的，有一个感性的认识。我们从理论角度看一下这个他需要大家掌握什么。

首先我们会介绍一系列的概念，第一组概念是微命令和微操作，所谓的微命令就是控制计算机各个部件完成基本操作的命令。比如说我们的 PC art，这就是一个微命令是吧？TCL 就是程这个程序计数器，PC 它的输出门打开就 PC out，这就是一个微引力对应的操作，就是这个寄存器的输出门打开是吧？微频率就是 PCR 对应的输出门打开就是我们的 VA 操作。

所谓的微操作就是计算机中最基本不可再分的操作。比如说刚才我的寄存器的输出门打开，寄存器的输入门打开，给加法器的进位信号 C0 端给它一个质疑信号，这就是最基本的操作。这种操作是与原子的不可再分的。描述这个操作的我们的理论描述就是微命令。而且大家注意一下，微命令和微操作是一一对应。微命令是微操作的控制信号，微操作是微命令的实现过程，二者是一一对应的。也就是说我们人类对于计算机自动操作描述到 V 命令的时候，这就是我们人类的最后一步精准的描述。再往后就是计算机自动执行了。

上节课我们也讨论过微命的兼容与互斥性。应该来说所谓的微命令的兼容性或者互斥性都是相对特定功能而言的，是吧？没有绝对的兼容或相似。

当然也有一些比如说我的 PCL 和 PCE 对吧？PCF 和 PCE 这两个一个描述寄存器输入门打开，一个描述寄存器输出门打开。那么这个寄存器的输入门和输出门是不能同时打开的，那么它一定是个互斥是吧？这是一种互斥性，就是因为它牵扯到特定期间的一个自身的一个原因，我不能进行操作。这是一种一种。还有一种是因为功能，就我完成特定的目标一个功能，那么有的两个未命是不可能同时执行的，那么也是属于不吃。因此我们说所谓的当我们谈论微命令的互斥与兼容的时候，一定是要在特定条件下具体问题具体分析。

好，有了第一组概念之后，这是我们最基本的。紧接着我们就有微指令和 V 地址的概念。所谓的微指令就是在控制存储器中一个库存单元的内容，它是由若干微命令的集合构成的。事实上在我们上在之前我们上课在讲例子的时候，我们曾经给他展示过。比如说这里的，比如说我们这个所谓的九条语句上就有八条，那么说这每一条就是一条微指令是吧，一条微指令。

比如说第一条指令微指令，它包括可以同时执行的 TCSMAREALUE read 这个寄存器 C-0C0 的这个加码器的定位信号端。我是一发出给家长会发出家长发的指令，AIU 的输出，接着缓存器的输入端打开。这些描述的就是一条微指令？这些可以执行的微命令是一种艰难的，也就是说它可以同时执行？这就是微命令。当然我们说这一这这这里比如第一条语句，这些是放在我们控制存储器中的一个存储单元。我们把控制存储器对中单的信息提出来，这个项目是一所描述的，这就是微指令的内容，所谓的微指令就是我的微命令的集合。

当然大家注意一下，这个有了微命，与之对应的我们就有什么微地址。什么叫微地址？就是描述存放微指令的这个控制存储单元的地址就是微地址。

那么既然是微指令？既然是指令的概念，那么按照我们第三章有关对于指令的描述，我们说我们的指令应该是包括两大部分，分别称为操作控制字段和顺序控制字段。这个比较爱绕口。事实上这两部分这个操作控制段你还可以写成什么什么 V 操作码字段，顺序控制段可以写成 VD，就指令，我们包括操作码和地址码。那么操作控制字段记不住，顺序控制字段记不住，你就把它写成 V 操作字段，V 地址字段也是对的是吧？这个先拿住一下。

对于这个微指令，它分为垂直型和水平型这两种形式是吧？这个请大家注意一下。垂直型就跟我们第三章讲的指令是一样的，就是一条微指令完成一个微操作，这就跟我们之前讲的是完全一样的。当然我们说这个不是我们期望的，我们期望在一条微指令中我安排多个可以并行执行的微命令。基本上我们说我们就微这个操作控制段基本上是按照什么水平型来做。也就是说在一个微指令的操作定制字段安排尽可能的可并行执行的微命 is 我们第七章的课后作业有这方面的要求，大家回去可以看一下。

除此之外我们还有两个概念存在微周期。微周期对应的是什么？我的微指令周期。因为我们前面在讲指令系统的时候，我们讲过指令周期。所谓指令微指令微周期是指从控制存器中取出一条指令并执行相应的命令所需的全部时间。然后我们说这个说的有点虚是吧？因为我们的指令周期本来就是一个是一个定性，而不是定量的概念？

我只描述这个过程，取指令取微指令到微指令的完成，这个叫微周期。但是怎么取？它是一段微程序还是几段微程序，到后面看？就是说这个微周期的概念是非常定性的，而不是定量的。最后就是微程序，就是说微程序概念就是一系列微指令的有序集合，就一个程序。这个说的可能有点虚，有点大家可能把握不清楚。

后面一句话是很关键，就是一条机器指令对应一段微程序，这就是我们微程序控制器的核心。也就说我们将比如说我们 IPM37038，360370 大机系统有 183 条机器指令。那么这 183 条机器指令我对应 183 段微程序。一条机器一段微程序执行完毕，就意味着一条机器指令的解释执行完成了 OK。

有了这些概念以后，我们站在系统实现层面上看一下。我们用高级语言或者各种编程语言所编写的程序，到计算机能够自动高速执行的过程。我们对他的逐步一个剥离过程。程序经过编译会生成一段路程，一段程序经过编译后会生成指令的集合是吧？你说程序最终我要把它翻译成某一台机器能够执行的指令集合。OK 就是程序与我们指令集合之间的关系，对吧？

也说咱们高级语言，比如说大家用 CD 编写的程序，通过编译链接生成的 EXE 那个程序。EEXE 程序通过旁边你会发现这段程序会变成类似于汇编语言描述的一些注解图。比如说 move、ADD，什么 DRV 等等等等。这是我们高级员通过编译生成的 ESE 文件。

ESC 文件就是指令的集合，这个指令集合送到我们计算机里面，我是对于指令集合中的每一条指令。我要做分析，这每一条指令对应说白了中间的这个比如经过操作系统，经过什么什么，我就再不啰嗦了是吧？那么对于每一条指令。我实际上是对应的我们所说的纽约机器指令与微程序有对应关系。我们拎出我的每一条机器指令，我就需要找出这条机器指令所对应的微程情况？这个微程序段导出微程序段，微程序段事实上是我们微指令的结合。

对于微指令中的每一条微指令，我进行执行。最终微指令把它看成微命令集合。每一个微命令就是什么非操作，大家可以看一下。

指令之前的可以看成是我们往程序开发者所关注的事情。也就是说比如说你做嵌入开发，你关注的是这个程序编译，我用什么样的指令进行描述？我需要怎样存储器与之配合，就是我们程序者关注从程序到指令的变化。

二指令到命令的这个剖析的话谁来干？是机器设计者。这个说的有点更宏观了，事实上它对应的是什么？CPU 或者嵌入式系统的设计？在过去这个嵌入式处理器的设计者，这个是属于高大上的一个工作？全世界只有家企业干这件事。现在随着咱们国内相关产业的快速发展，做嵌入式处理器设计的人是越来越？

那么对于嵌入式处理器的设计者，你关注的是你这个签入系统，你给他多少条对外执行的机器指令。这是第一条。第一点就是你关注这个嵌入系统对外能提供多少条机器指令。拿到机器指令，你通过这样的一个逐步细化过程，把它最终描述成为你和这个过程。当然我们说像咱们这个专业，应该是在投入之前的居多，之后的估计咱们可能做的相对少一点是吧？不是说没有人做，就当做的人稍微少一点而已。

好，下面咱们看一下我的微指令的编码法。微指令的编码法主要指的是我的操作控制字段的设计方法。对于这里我们讲了很多我们这个操作判断的设计方法。咱们书上会讲三种，分别是直接控制法，这是第一个。第二个最短编码法，第三种称为字段编码法，就讲三种？之前按照咱们教科书我提到的三板斧原理，大致其这三种方案应该哪种最佳，我想在座各位心中是有数的。也是说最终我们要求大家掌握什么第三种方法，这是我们最佳方法。

前面两种方法我们也是要用的，第一种方法叫做直接控制，也就说操作字段非操作控制字段每一位对应一个微命令。当这个微命令有效的时候，我这位质疑无效的这位质疑。也就是说当我们系统里面有多少个非命令，意味着操作控制这段就要有多少个比特位，是吧？这种方式简单明了，但是什么？它的缺点是什么？

V 指令字太长。因为说我们一个微信对应这里的一个二进制比特位为零，这个命令不起作用，唯一这个命令是起作用。那么你想你这个 CPU1 旦设计成功了，它可能出设计出多少个应用，这个数字是非常庞大的因素，就直接控制法很理想，但是实现起来太困难。因为你的微指令对应的微操作中字段长度太长于肠道，我们没法去进行功能化应用了，是吧？这是第一种。

第二种方案最短编码法，这种方案跟我们讲的指令系统的操作工字段的方法是一致的。就是每一条微命令只能定义一个每一条微指令只能定义一个微命令。这种方式属于比较 low 的，这个我们也不需要让大家用，为什么呢？因为在一个微指令执行过程中，我可能也要并发执行多个微命令是吧？一条微指令执行过程中，我期望并发执行多个微命令，这才能提高我的效率。你的这段编码法还采用我指令系统的设计方式，一个微命令定义一个 V 一个微指令定义一个微命，显然不能满足我们的实际需要。矫正法就是一个字段编码法。

字段编码法是前面两种方案的结合。首先它的操作控制字微操作控制字段分成若干个小段，每小段与每小段之间我采用直接编码法，而小段内部采用最短编码，就相当于我把第一种方案和第二种方案综合起来。我先把微操作数字段分成多少段，小段每一小段是两个比特位或者三个比特位是吧？这小段内部最短编码法，你想两个比特位是四个状态，那三位的话是八个状态是吧？我采用这个编码法先是平行的，各个小段之间采用直接编码法的方式，这就是所谓的字段编码法。我们这里书上提到两种，就是字段直接编码法和字段间接编码法两种形式。我们要求大家掌握第一个字段，直接编码这个需要注意一下。

具体操作就是对于字段编码法，我们这个分段的策略是把互斥性的微命令放在同一段，兼容的微命放在不同的这是第一点是吧？是互斥的同一段。因为为什么互斥放同一段？因为我们每一小段都是什么最短编码法，脚底互斥。你用字最短编码法是正好审核的，而兼容的放到不同状，这是第一个原则。

第二个原则大家要记住这第二原则就是说要与数据通路的宽度相适应，希望大家注意下，我们第四条大家一定要注意，就说我们用字字字段编码法在使用过程中，每一小段需要留出一个状态，表示该小就该转。不发出任何威命令是吧？也就说在在有些情况下，它并不是说在任何时刻，每一小段它对应的那个 V 都起作用。我们必须要给出这样的一个段。比如说这一小段是三倍，它最多能够表示七个互斥的微命令。那么流出 000 表示这一小段不发出任何操作。那么在实际工程应用过程中，在特定情况下，可能某一小段在特在某一个时间节点的时候是不发出的命令的对吧？

我们要用这个换句话说，刚才我说的这是三位能够描述七个状态，那么两位它能描述几个状？两位只能描述三个是吧？这个相对一下。我们举个小例子，比如说某台机器有 256 个微命令，如果采用字段直接编码法，每四位一段需要十八段。这十八段是怎么算出来的？你要会算是吧？

用 256 除以 15，要除以 15 大概等于这是除不尽的，是 17 点几是吧？17 点几就是要取证上取整，就是十八，18 乘以 4 需要 72 位。在极端情况下，在任意时刻我采用字段直接变换法，能够同时发出 18 个不同的微命令。在最极端情况下，OK 那么字段间接编码法我们就不做要求了。那么。

下面是有关控制器，微执行控制器的基本结构，这个我就不讲了，放到下周的课去讲。刚才后面有两两次我就后面还讲，还有两个次咱们就上信息课，休息，大家把你作业再拿一下。

还有什么？九点多了，然后我们就是我之前不是定位不对，你再发过去一张之前我发的这个图片，然后截图你可以给我发过来。四方的对，这个是四方。对对对，服务后面我更新钉钉，然后又然后我们就把我这个造型他还是行，你说，快。

群里发。后来我又处罚了。没有这。

大家把作业拿一下。

好。

对对对，就是当天我就放了，但是那天我。你叫什么名？

当时我都不给，因为每次都是所有的都是翻翻一翻。

这第几张，第三张。当时我都当天交接协议，今天我都发了。然后那天你要来的话，肯定是四点钟还是的，我就没找到。那我再找一找，好叫杨海天使。

当时是你们办交通费。我是我知道。对对对，那个。

好，那么咱们按照刚才的教育计划，我们开始订正一下第四章的作业。我看了一下我的那个成绩的情况，应该来说咱们绝大部分同学做的还是可以的，是吧？绝大部分同学做的还是可以的。但是就像我说的，有些同学在做的过程中是不够规范的，主要说白了在我们的第八题、第九题做的过程中，除了这样或者那样的一些不足，第一是没有按照我们的要求去去实现。

待会儿咱们看一下，首先咱们看一下第六题，已知 X 是。正的 0.1011Y 是负的 0.0101，那么要求去求 2 分之 1X 股，4 分之 1X 蛊负 X 股 2 分之 1 外部 4 分之 1 外部和户外的湖。这道题大家可以看一下，事实上第四章讲到了 2 分之 1、4 分之 1、8 分之 1。

事实上我们的考核，咱们第四章一个考核点，就是有关一位通过算术移位实现我乘 2 或者除二的功能是吧？这个主要是主要考核的这个也就说这道题第一你需要先将 X 和 Y 用补码的形式进行一个表示。然后再通过移位运算进行求解。希望大家注意一下，X 和 Y 是小数点前一位，小数点后四位。我这里就是 2 分之 1X 股 4 分之 1X 通过移位过程中，2 分之 1X 减 4 分之 1X 他运算之后的结果应该是几位？我看大家都做的对，但是有个别同学在这还是有赢，还是有错误？移位是需要把移出那一位要扔掉？

有的东西我看可能做的不太对，但我没有指出来这点，希望大家注意一下。比如说因为 X 是一个大于零的数，对于真值为正数的，它的原码、补码、反码是完全一样的，就跟针是一样的，只不过是把零变成这个，就跟它完全一样。ZX 的五是由是 0.1011，因此它 2 分之 1X5 是 0.0101。要把最就是 X5 中的最低一位的这个要扔掉是吧？有的同学不知道说我这应该是保还是不保，因为我们题干大家可以看一下，它的数值位是四位，那么默认你通过一个运算以后，结果数值部分也应该保留四个，对吧？你后面再填一那是不对的是吧？因为我这跟你写的，虽然我没说我保留几个，但是我的题干就给你四位，那么你结果数值部分也应该给我次会。

这个向下一定要注意一下，这是 2 分之 1X 补。那么 4 分之 1X5。我接着进行这个 X 的算术，X 比的算术右移变成了 0.4，4 分之 12 变成 0.0010 是吧？我就把 X 组最后的那两个第一位的两个 1 全部扔掉？那么负 X5 等于 1.0101，这个是属于最简单的。

这道题比如期末考试考核过程中，说白了送分题，那么这道最核心的一点是什么？你结果应数值不应该保留几位，这是核心的是吧？有的题就这样，我们没有明确说保留五位或者保留几位。像这种在我们计算组织体系结构这门课考核过程中，如果我们没有说，那你就看一下题干等于几倍，你就结果也应该是几位是吧？当然有的情况下不是这样，是吧？

咱们这个到时候再说，这是 XY 由于是一个负数，负的 0.0101，复数的远古反他的描述差别还是比较大的。因此外部是 1.10112 分之 1Y5，算术右移，那么我们最高数值为五与符号位一致的数，因此 2 分之 25 等于 1.1101，这是这个结果。那么 4 分之 1 外部也能写出来等于 1.1110 负 Y 的值等于 0.0101，那么这道题十分困难是吧？最关键的是考核了一下，大家对于到底保留几位数，大家都是因为你丢的数。你像 X 丢了两个都是 1，Y 丢了 10111 和。尤其我通过算右移移出去的数是一个 1，有些同学就不确定了是吧？这道题一定是结果，一定和我的题干为什么应该一致了，这也是大家应该具备的一种考试能力，或者做我们组成原理相关习题的时候，需要就给这有时候是这个结果的数位的要求是隐含的。换句话说，你上课认真听了，我们上一次做练习注意到的话，那就没有问题了，这是第四题。

第八题我们要求大家用什么？原码一位乘法和补码一位乘法计算 X 乘 Y 的结果，那么分别是两道小题。我的除法也是要求大家做两道小题。但是在这这次主要重点是三班和 4 班同学在交作业。我看一下，就从最后的这个结果的情况来看，第八题还做的还行是吧？但是第九题有 20% 是错误的。换了有些同学要我说已经不是能力问题、态度问题，很多同学根本就不做过，直接写答案。

你说这个具体每到这计算过程我有吗？我肯定有。教了这么多年书了，但是有的同学明知这是不对的，偏要读写。期末考试肯定这块我肯定会考，这个乘法运算，除法运算，陈如华肯定是要考的。有，我看一下大致其有 5%，5% 大概是多少人我看一下，一个班 30 人，两个班 60，5% 就全交的作业，5% 是吧？三个人比这个多。

直接就是源码，一位原码，一位乘法，不知道是吧？因为我们上课例题是专门讲过的，不知道直接用小学生的列式乘法计算给我求解。是吧？答案是对的，我没说你错，但是我在你的作业上直接是打了叉。换句话，如果考试遇到这种答案一分不给，想都不要想，好吧，你做也白做。假如你这么做，因为你我要求的是乘法移位计算是吧？乘法移位隐含的这个乘法移位的这个源码一位乘法规则进行计算。你用手工算式，这算是原码一位乘法吗？

肯定不算是吧。范律师你就不要白忙活了，白忙活了也是这个丑话说在前面。期末考试如果有这样做的同学，这道题这十分就是你白扔了，好吧，没什么好说的。

对于这两道题，实际上大家在做的过程中，如果真心去做的话，应该来说大家发现无论用原码一位乘法规则，还是用补码一位乘法规则，我的运算结果都是一样的。这点请大家注意一下，过程我就不列了。因为这道题只要答 80% 的同学都对，那么我们直接给大家答案就行了。

那么。第一小题 X 增值是 0.11011，Y 是负的 0.17，小数点后五个 1 做乘法计算是吧？乘法计算无论是用原码一位还是用补码一位，它的结果第一，因为我的题干给大家给的是 XY 是用增值进行表示，因此这两道题的结果你都要有真用真值进行计算。有个别同学比如说用原码一个方法规则写成 X 乘 Y 的补直接就给我。那么我们在考试的时候你不骂，不把最终的结果不补码不化成这个争执，我们是要扣你的相应的分数。而且有的同学什么英文间可能量比较大，是吧？出现了什么不规范。

按照我之前上课给大家讲的，比如说 X 乘，比如说我用源码也有乘法，首先你应该。写出 X 的绝对值是多少，Y 绝对值是多少是吧？寄存器用到了 ABC 它初值大概是多少，你应该写出来。如果你把这两个，比如说你哪怕后面答案不对，前面这些内容也起码过程中我们给你一些，有的人上来直接写，写的模模糊糊，以后咋给你一份。

因为咱们这个考试现在也是非常，如果按照评判的话，我们要求是非常严格的。那么你可以看一下，因为你们同学明年后年。现在大二是吧？大三明年这时候可能除了考研的同学之外，应该绝大部分同学都会去考研的。你可以看一下这个考研大纲，就是教育部考中心的考研大纲。你可以看一下它的评分标准？

评分标准要求是非常严格的，你有缺项，那一项的分你就拿不到。尽管我们在给大家评卷的时候尽量的放宽，但是 1 到 12 分的计算机组织管理试题，全北京市的平均分不超过四分。都三点几？甚至更低。

因此我建议大家在要求的时候，比如这道题，为什么你做的答案跟你的预期的成绩差很多，这就是原因，你没有必要的过程上来直接给答案。那答案对了，难道我就给你全分吗？比如说这道题 X 乘以 Y 你用源码也有同样规则，你把这题 X 乘 Y 的补码的结果写出来，而且是对的。那么我们因为你最终拿出这个，你如果源码补码到这个源码，在这个判断过程中你要有就没有。最后答错了一步，我们是要扣分的？比如说我们前面说的写什么，比如说用原码一位乘法运算，我要写 X 博 Y 博等等一系列的必要的这个初值的结果的设定值得计算。你要不写清楚，相关的这个分就没了。

这个校长一定要注意一下，应该说看了一下第八题，应该答案还是不要。应该来说咱们的震慑力就除了不认真完成的之外，认真完成就是他的正确率大致其达到 90% 是吧？90%。

但是有些同学没有注意，就是我们 X 比如我的 X 是小数点后五个数值位，Y 减少点后五个数字。那我们结果大家看一下小数点后。原来是 N 现在变成了 2N 我指的数值对比是吧？大家可以看一下数值对部分。有些同学在写结果的时候，乘法他写了一半，我不知道什么原因，个别同学我肯定也看到了，这是第八体，应该是震慑率比较高。

但是第九题我们用原码加减交替法和补码加减交替法去计算 X 除以 Y。这道题我们要求大家做第二题和第四题。大家发现我们这两个小区分别要求大家去使用原码加减交替和补码加减交替。大家发现二进制的除法和乘法是不一样的，怎么不一样呢？二进制的乘法，无论你是用原码一位乘法规则，还是用补码一位乘法规则，我的运算结果最终化简的真值是一样的。但是除法你用原码加减交替法计算的结果和补码加减交替法计算结果两个值是不同的，是吧？你要显示相同的那肯定是错的，有一个肯定是错的，是吧？

比如说第二道题 X 除以 Y 用原码加减交替法。我们说了源码进行乘除法最大的特点是什么？符号被单独处理，然后做纯绝对值的计算。因此第二个是用原码加减交替法计算的结果。

这个括号里面他的这个商是 0.11000，它的余数是 0.11011 乘分之 0.11000 乘以 2 的负 5 次方。那么大家注意一下这个题，还有刚才我忘了说了，我们每个商每或者人数的它的位数，你不能说因为这后面是零我就不写了，这是要求我们要求大家写的。比如说刚才乘法是两个数，X 是 N 倍，Y 是 X 是 N 加一倍。Y 也是 N 加一倍，那么乘法运算结果应该是 2N 加一倍是吧？乘法运算结果是 2N 加一位。哪怕你的陈述和乘积的结果最后几位是零，你也给我写错 2N 加一位，这是规矩是吧？

有的同学你可以看一下，你写的时候没有写成 20 加 1，这道题也是他的商 0.001，0.11000 是吧？你不能写成 0.11，后面就没了也不行，对吧？也就是说给你多少倍，你就应该给我列出多少位，哪怕这个列出的数是 0，你也能列列出来。也就说乘法是两个 X2 个 XY 都是 N 加一倍。它结果有一乘法，我们会数的一定是 2N 加一倍，结果是乘积，结果是 2N 加一倍。除法的话，那么商和余数都是 N 加一倍是吧？

大家发现跟我说了，我们除法运算用原码加减交替法和补码加一点交计划两个数的商和余数是不一样的。但是这两个商家发现。前面基本上就就基本上错了，最后一位一个是零，一个是 1。但是它你看它的这个余数就非常接近这个数，但是变化比较大。那么这个相当就说原码加减交替法和补码加减减交替法的熵值部分基本上就是前面基本上就是最后一位会有变化。会有变化，但是余数部分变化比较大，所以先把注意如果你想得到这两个答案，那么我们看看一下这个运算结果。

如果你有的同学说你就没有给我这个具体的步骤是吧？具体的步骤因为这具体步骤在在这跟上课讲，显然是我们这个时间第二个没有碰上。那么我们看一下，对于这道题应该你可以看一下，因为这是 N 加，都是小数点后就是五位数是吧？

因此对于原码加减交替法，你可以看一下你第四步这个移位运算是第一次步加了之后我要做左移操作。源码的第四步移位运算。一位钱的值应该是 11.01，通过手机操作。它会变成 10.1 这种形式。你看左移这个就通过左移以后，它是否变成这种形式。如果变对了，答案是对的，否则的话那就就不对是吧？那么补满。

也是第四步。在一位之前是 0 点 IA 点 100.1，通过左移余数的这个左一应该是 01 点 X 这种形式。所以你们可以看一下，就这个除法，就原来除法运算的第四步，不骂处罚人员能力是否一味操作。

这个大家在算的过程中，尤其这个加减乘除就乘乘法和除法，它在就乘二进制的加法计算过程中，我相信你们没什么问题。出问题就是在移位过程中出的问题。因为我们的除法计算是余数新余数的结果不断的一个放大过程。我说我通过这个新余数的左翼对他进行放大，你左移过程中的值是否做不对，这个是主要一些问题。

这是第二小题，同样第四小题我也是给第二种题给标准答案。大家可以看一下，也是原来厨房他的商户的是 0.11015，这个是明显 11011。我们看看一下在这个移位过程中，哪一步是最为关键的。

对于原码。源码是第二步。一位。大家发现我们在这个除法实际上的乘法也一样。乘法是部分机进行一个右移，除法是部分新余数进行左移，它的移法不一样，移位之前是 00.1。X 通过左翼后是 01 点 X。01 点就是说白了小数点后的最高位通过左移把它放到这个同时的符号位。但是我们因为是做绝对值计算，它也就是什么就我们在做过程就处理掉了，这是第二步，补码也是第二步。

第二步，移位。移位前是 11.01，通过余数新余数的左击操作变成 100。第二你们可以看一下，这就是说你们在做的过程中把握这些关键点。我们说这答案一定是对的？在别的你要一味在意拿掉会出错，不会？就这几个点你要做对的话，那基本上没什么问题。

说白了第四章最大一个特点就是工作量比较大。但是只要记住规则，细心就肯定没什么？就怕的还是那句话，这个不来上课，号称我虽然说了你们不来，只要你说明白了，这个不来也行。但显然不来的同学肯定也是没有，也没事，自己去看自己想当然的发挥。大学不像中学，那么该我说的话或者不该我说话，我都说了，肯定是不一样的。

我们对于大家评价还是有区别的。一句话，你们的做啥的情况，我在你们的作业后面只写了个字，只有个别同学太差的我会写评语。但是丑话说前面，我的积分册上，你做的好的，做的差的，我都有不同的评分档次。将来再算算平时成绩收我是考虑进去是吧？这个当俗话说巧的。

那么回到咱们这个，咱们的这这道题应该来说，第四章期末考试记住至少有一道十分的计算题是吧？要么乘法，要么和除法是吧？乘法有两种可能，除法也有两种可能，你要掌握了，特别是乘法移位计算，按照要求的乘法移位规则原码一位乘法规则并不是手工列式计算，是吧？如果谁在期末考试给我用手工列式计算的方式。听清楚谁写谁，这道题就是零分。好吧，这个都没。

好，下面咱们看一下第十一题。第十一题我们做了一个浮点数的乘法，加法和减法的运算，我们就选了一道小题。通过这道题，对于这个浮点数的运算，大家有一个比较简单的认识。当然我们说期末考试不会出这种列式计算题。如果真要为难大家，我把这道题转转为一个什么？选择题，这个量一点没减，但是你分数，选择题一分才一道题才一分，没什么好说的。那么这个浮点数的加减运算，按照我们的说法就是分成了好几步。

第一步是对接小街巷大街。第一个我们按照这乞丐来说，因为我们题干要求我们浮点数阶码和尾数用五码进行表示。首先我要把 X 和 Y 用补码的形式加以描述是吧？午马姓氏加以描述。首先写出了无码，这是 X 和 Y 浮点数的。用补码表示它的阶码，读点读码来表示它的尾数，写出这样的结果来是吧？这种结果作为我们计算的基础。

然后这道题首先我把这个复检诉讼按照规要求的规则写出来，这是第一步是吧？这个做加减法其实套路一样，第一一件是什么？对接。

我们看一下 X 的浮点数的描述和 Y 浮点数的描述，它的肩膀部分，一个是 0101，一个是 0100。小街上标的大街看齐的话，就是说我们一定要调整 Y 的解码值，使 Y 的解码值变成 0101。那么与之对应的这个它的尾数吧？因为小街上看向大街看见他的阶码增加了，意味着尾数通过右移操作变小。由于 Y 的尾数部分是一个负数，因此我进行这个补码的右移操作数最高位补的是与符号位一致的数，是吧？那么这是第一步对接，然后做尾数的加法操作，做尾数的加法操作，那么这个结果显然应该是 010.111 我又归一次就变成了什么？我因为我们按照我们的规格化浮点数，我们当时讲了，比如说我的这个，收货借款用字典表示他规格化有三种情况，有不规合法左归和右边显示右回，右回一次就 OK 了，就是变成 1.0111。他有数用过一次就得到了正确答案，因此他的结果我要恢复成个人表示。

X 加 Y 等于二的 1104，次方乘以 0.101？那么这道题难度不大。但是大家注意一下，这里的 110 是 2 进制数，好像是十进制数是吧，应该是二进制数是吧，但有个别同学把它看成十进制数，你想一想这道题没有什么变化，但是后面那道题就是因为我们算了一个 X 加 Y 还有一个做一个 X 减 Y。X 减 Y 的时候，因为前面对接都一样，只不过这样做尾数的相减，要进行一个总归结果。这两个写成二的 97 次方是吧？等你我一看 9 或 7，二进制数里面没有 9 或 7，那肯定答案就不用看了，是吧？对于这个尾数的减法操作，实际上是相当于 X 加上负 Y 的？尾数部分的运算，运算结果是 11.111101。

这种形式按照我们的规则，我们要进行左规操作，通过左回四次，每一次什么尾数？每做一次阶码减 1，它的最后的结果 X 减 Y 等于 2.001 乘以负的 0.11000。那么有同学在这。他的肩膀部分怎么去看？有同学给你唱？题不难，但是你要真是要细抠，可能就出问题？这个我们就讲到这里。总的来说第四章是一个重体力活，没多大难度？但是这第四章的作业写的大家少看吧？

现在大家说的，但是期末考试，当然我说期末考试我所说的是这十分，多少分指的是大题。你说这个是什么填空选择，怎么一个都没有，我也不知道，你随机抽对吧？可能是几个老师合在一起去问题。

事实上可以这么说，咱们这门课情况没有期末总复习，像现在应该说这一章重点，如果出大题应该出什么？我想在座的应该都能现在都能说出来是吧？像第一章、第二章肯定没有大题是吧？如果要出，比如说 HQE754 标准，我给你出个计算题，或者再狠一点浮点数的取值范围？我要争狠一点，浮点数就是第二个浮点数的取值范围。我给你出两道题，叫你求它的最大正数是谁，觉得最大的那个负数是谁？绝对值什么最小正数的数就写这些。浮点数的取值范围，那第二张若考，这是比较麻烦的。

第三章指令系统设计有效抑制 EA 的计算，这作为出大的一点。第四章就刚才我说的乘法一位，除法一位，这我们就讲是吧，这第四章第五章。就是有关存储器的设计，第六章咱们没有布置作业是吧？当我们当时对大家要求什么，看明白第六章课件上的所有有关开始计算的题就 OK 了是吧？把那些例题你自己再做一遍，我觉得就是很大了。

第这是第七章，第六章第七章咱们没讲完，大家咱们做做练习。第六章有练习。第八就第七第第七章我们是控制器，我们会布置作业。还有第八章就外设以及外设控制部分我们有作用对吧？都当然我们说重点就是第七章、第八章，我看一下内容不多是吧，不会有太难的，就这么些内容。就是说这个大题 50 分是吧？填空选择 50，大题 50 分到就说我们咱们也是 AB 卷，到处，你到底考 A 卷意见我也不知道是吧？就这些范围，到时候大家好，可以准备了。

好，那么这是我们第五第四章的作业。下面咱们看一下第五章。第五章应该来说课后作业比起第四章来说，它的难度是大一些。但是让我很吃惊的是我布置了第 10 13 题，结果居然这道题还有人做错。咱们去看一下题干说我使用的芯片是 11024 乘一的芯片，构成一个 16K 乘 8 的存储器。问第一实现该存储器所需要的芯片数是多少？

这道题没有错误，但是第二题就有不少人做错的。如果将这些芯片放到若干个存储板上，每个板的容量 4K 乘 8，问该存储器总的地址就地址码的位数是多少位，其中选拔选片和片内地址分别是多少？那你说这道题难吗？不难，但是就这个总的存储器，总的地址码的位数是多少？居然有人是算错了，这个还是还能做错是吧？我觉得很诧异，而且是一错，至少有十几个人都有错，那你的结果从出来的是吧？说白了这存储器需要的地址码的总位数就告诉大家了。

存储器是一个 16K 乘 8 的，二的多少次方等于 16K？二的 14 次方等于 16K 是吧？14 位居然能给我写 17 个是吧？我我我记得好像。14 位。对，有的写 17 位，我也不知道是怎么算出来的。就这道题，就是今年你们这个题出错的比较多好，咱们庭审之中标一下。

好。这肯定好。

哎呀。

好，那么咱们一起来看一下。这道题就是今年大家在做的过程中，第十三题有不少同学错误的。那么也就是说第一这存储器怎么位数，我们就根据 16K 乘 8 是吧？16K 乘 8，首先我估计如果写成 17 的话，肯定把乘八八这乘就乘号那个 8023 方他也算进去了，给了 17，那肯定不对的是吧？那么这乘号后面这八相当于是存储器的每个地址对应的二进制的比特位的位数是八位，就一个地址相当于这是字节寻址方式是吧？不可能有。因此我们这道题你们同你们这级的同学大概有十几个同学在这做错了。

好吧？那么咱们一起来看这题的答案。第一需要的芯片的数量，我们用 16K 乘 8 去除以 1K 乘 8 等于 128，这是第一个答案。

第二个答案，由于它是我们给你的是存储芯片，总共需要 128 个存储芯片。你如果 128 个存储芯片你放设计成存储芯片，我们设计起来还比较麻烦的。因此这 128 个存储芯片没有统一放到一个存储器里面，而且利用了存储板。因为每个存储板是 4K 乘 8 的。也就是说首先存储芯片放到存储板块存储模块上面，这存储模块是 4K 乘 8，用 4K 乘 8 除以 1K 乘一等于四行八列。你说我每 32 个芯片构成一个存储款，这样的这个存储款需要几个呢？这四块就这就得到这样的一个过程。

有了这个过程的话，第二小题的答案就出来是吧？存储器需要地址限制，14 位 2 的 14 次方等于 16K 是吧？有的同学等于 17，就是肯定是这个图上面肯定没有认真听，对不对？存储芯片它是 1K 乘一的，他需要的地址线十位是吧？因此 14 根里面刨掉片内的这个树根之外，还剩四位是吧？分别选板需要两位，选片需要两位？因为我是四行八列的，我们行扩展是不是总共有四行，这四行需要一个 24 译码器，那么两个数四个输出就出来了。

这道题？居然你们是有错误的，考试的时候我不希望出现这样的这样子的问题，这是第十三题，第十三题是我们给的，大家做里面算是比较简单的。但是就这种题居然有同学出错，而且是不止一个，是吧？

你们注意一下，那么下一道题是第十四题。我们说某一台机器自成乏味，用半导体存储器作为储存，其地址码是 16 位。若用 1K 乘 4 的 s rm 构成该机所容许的的最大储存空间，并采用存储版的设计。这是题干，要求大家做两个小题。第一，如果每个存储款是 4K 乘 8，问需要多少个存储模板，这是第一小题。第二，画出单个模板内的各芯片的连接图是吧？各芯片的连接图。那么这道题不难，但是有同学画的时候画的不太对称。

第二题，因为我们第五章讲存储器设计的时候，一定要画图，对吧？这道题问题主要出在画图上的。那么按照我们之前的要求，对于第五章？第五章的习题在大家在做的时候，我们需要一个计算公式，一个三线表。确认一下我需要的存储芯片是多少，这芯片是怎么进行一个存放，吧？那么题干核心问从题干来说，它是用 1K 乘 4 的 S2 构成该机所允许的最大的空间。

说白了这道题最麻烦的是如何理解最大储存空间。也就是说你要知道这个存储器的容量？那最大的中间，上次前面我们告诉大家，一个是自查乏味。第二，它的地址码是 16 位，2 的 16 次方乘以八是这个存储器的储存容量，2 的 16 次方乘以八是这个存储容量，那么根据他吧，那么我们这是一个概这是一个值，还有一个 4K 乘 8。还有一个 1K 乘 4。对于这个存储器，它给你的地质码或者地质线条数应该是 16 根是吧？那么它的这地质线数据线是八根。同理 16 4K 乘 8 的话，2 的 12 次方等于 4K 这是 8，这是十，这是是吧，我们这个表就做出来了。

下面是问有多少个存储板，那么我们用二的 14 次方，26 次方乘 8 去除以 4K 乘 8，那么这个值是多少呢？就这算性大家都知道是吧？因此存储上需要 16K 乘 8 乘以 4K 乘 8 等于 6，需要 16 个乘除法，对吧？这是第一小问，那么就这么算出来。第二个我们要画出存储板内部各芯片连接。我们给出了这个答案是吧？

大家看一下这道题答案是没有问题的，但是大家出问题主要出在两块。有些同学在我这张图上的最左侧或者上面，或者在什么地方画了一个 CPU，你说对吗？就在这儿画的诗词对吧？我们说你肯定不对，为什么？我们存储板并不是直接接存储器，它需要鉴定有一个处理。你怎么说在这道题，就这道题你要再画一个 CPO 肯定是错误，对吧？存储版它是作为存储器的组成部分，直接连 CPU 是不对的这是第一点。

第二点，很多同学之所以扣分，这是什么？你的译码器的输入输出都没有做标，对吧？比如说这里的数据线地址线坐标并没问题，但是这个 K 信号线做标注。那么这道题我们说过了，我们用那个 4K 乘 8 除以 1K 乘 4 变成了 4 乘 2，对，我们这八个芯片变成四行两列是吧？有的同学到了把这个头转过之后，并不是说你做的不对，但是你这个做的钱就比较费事儿，是吧？很容易出错。

就刚才我说的这道题，大家出了问题。一个是译码器的输入和输出没有做准确的标注，密码器的输入是 A11 和 A10，输出是 CS0 飞、CS1 飞、CS2 飞和 CS3 飞吧？那么大家注意一下，我这密码器，我为什么说它的输出里面是 CS0C 的？你看我这上面加个圈是吧？有的同学没有加圈，那你的片子上就变成了 CS0、CS1、CS2、CS3 是吧？

可能有的同学就这些标准就根本没写是吧？就是我画的。那肯定是余额了，这问题是吧？说说松点，给你两份，给你两份辛苦份，并不你做对了，守严一点，扣你一分，不给你也一点脾气是吧？

主要是这个密码器很多同学画的不准确是吧？如果你想说是 CSC 第一电池有效，那么密码器的输出你一定要画小圆圈代表是什么？低电平有效是吧？

有的同学在这就这种细节没有注意，这个大家注意一下，我既然花这么多时间去订正，我考试的时候这些环节细节我是有要求的。你别说每年都是有有这个同学去，还是说第二学期要申请查分。我可以很负责任的讲，过去的这 20 年里面，没有因为他是李长风给他改过程序的，这个我可以很负责任的讲，好吧。好，除此之外还有同学让我不满意的就是他的读写控制信号线是吧？你们可以看一下，有的同学我这写的是 W1 分，相当于低电平有效。

那你就看一下我接这些芯片他不接的，你是不是都画个小圆圈？凡是机电基本上都要画小圈，有的时候你可以看一下你们这个画没画，我也不说你啥。对于读写控制线，我们的画法有两种，一个是 WEC，如果写 WEC 的话，那么接每个芯片这种都要画小圆圈是吧？在我们第一个有效，这是一个画小圆圈这一个点，还有什么在这儿你要做一个准确的标注，WEZ. 

那么我们后面还有第十八题，还有一个 MRQZ。好像很多同学感觉自己画对了，我真抠的话，没没几个是对的。如果是 MREQC 的话，那么接译码器的一端应该是要画小圆圈的图画？就这个高低就这种你画写个非号，不是不写非号，你连接的图画是不一样的？

这道题，我就说这道题主要是出在大家画的问题上，叫画的不规范，主要是什么片里？译码器的输出 CS0 分 CS1 分，CS2 分。如果显示低电视屏有效，那么你这个输出要画小圆圈，这是一块。还有 WEC，你要用这个去标注的话，大家可以看一下你接芯片的读写控制端内容是带小鱼圈是吧？这两个地方大家都要注意。

下一道题是第十六题，他说我给了大家以下芯片，三种芯片，2K 乘一的 ROM，4K 乘 1 的 RAM 和 8K 乘以一的 ROM。大家看一下，我的芯片是两类芯片，ROM 和 RAM 是吧？两类芯片。ROM 我们称为半导体只读存储器，RAM 半导体随机存储器。一个是芯片，这个缩写不一样，除此之外我们说什么地方还不一样呢？我们的访问控制信号线是有差异的是吧？要待会咱们一起来看看差异对吧？

那么这道题大家可以看到它是构成一个 16K 的存储器，前 4K 是 ROM，后 8K 是 RAM，地址码 16 位要求大家做回答以下三个小问题一。各存储芯片分别是几片？这第一件事。第二件事选正确的选择译码器和门电路，画出相应的存储器的设计图是吧？

第三指出有无地址覆盖，上面的第三小题有无地址覆盖。这件事儿有些同学咱也不规范，他只写简单的有或者简单的无。这是不行的，你必须做解释是吧？有没有意思？有有，然后我也看不出来他是有是吧。那么若如果考试遇到这种题，比如这道题三分你写个有，如果写那么就看我心情了是吧？你前面比如说写有你前面第二小题你给出了我地址信号线的分配是吧？那 OK 那我可能这个给你就把这有的这一份给你了。

有的第二章第二小题没有把这个地信号线的分配给出来，直接写有或者是那你就第三小问题一分钟是吧，因为我们没从你回答上，我看不出来你因为写有或者写无，我们说答案都对，换过来答案都不对是吧？你写有你要说明有的原因，你要写无说明无的原因。这种事第二第三小题光写个有或者无我，从你这个答的题上面看不出有或无的可能，那这小题也说不准，好吧。

那么这道题其实就选择芯片，因为 ROM 给了两种，一个是 2K 乘以，一个是 8K 乘以。那显然它是前 4KB 是 ROM。说白了这道题你只能选第一种，2K 成立的 8K 乘以是不能用的。为什么不能用？因为你要选 8K 有可能片内地址就有冲突，是吧？片内地址冲突。第二，片内地址跟我们的其他选片信号是有冲突的。因此这道题在大家在选片的这个小问题上都有，各位都选的是两件衬衣，我看没有人喜欢八个衬衣的耳环，好吧？

那么咱们一起来看一下，这道题首先大家我们在旁边画着图画了示意图，为什么要画这示意图呢？因为我的存储器最终是一个 16K 这个存储器，但是我们你的存储器的地理线是 16 根 2 的 16 次方。根据刚才我们的这个结论，我们知道 26 次方等于 64K 是吧？64K 也在这 64K 里面，我只用到了前面 16K，前面 12K 的空间，后面都没有用是吧？这是他的一个特点。

因此对于咱们这道题，第一小问我的 RAM 和 ROM 各用多少芯片？那么我们分别用这个 IM 的片容量是 12K 乘 8 除以 4K 乘一等于 24 片，就是分成三组，每组 8 片，这是 ROMR 这 rm。ROM 的我用是 2K 乘一的，4K 乘 85K 乘一等于 2 乘 8，就是两组，每组 8 片，就是两行八列，这是第一件事儿是吧？这第一小问我们分别答出来。我们选用 14K 乘以的 RAM 需要 24 片，选用 2K 乘一的 ROM 芯片需要 16 片，这是第一小问。

第二小问是要画出这个给出地址分配，画出设计图来。大家可以看一下，第二小问大家可以看一下，我这个设计是因为 16K 的主动空间，我只使用了 A0 到 A13 这 14 根地址线，A14A15 我是没有用是吧？我用叉叉表示它只留这个，在这个地址分配的前提下，我第三小问答有地址覆盖是没有问题的。

但是你说你第二小题没有这个表，你先有技术覆盖，第三小问后面做。因为什么？如果把 A14A15 我直接写 0，直接接近，是不是第三小问答案就变成了无进程覆盖是吧？因此第三小问你写我就说了，你写有地质覆盖和你写无地质覆盖里面答案都对。

但是你要看到你的原因，比如说在这儿我虽然没有解释是吧，但我有上面这张表，我能看到我们 A13A14、A15 是打叉，就意味着你让他随意处置，那肯定是写有技术，应该是没有问题。如果这个全写 0，那你写的技术概念肯定是不对，是吧？这个答案是由我第二小问这张表决定的那有的同学你说你我没有这张表，你给我写有技术覆盖和写无忌盖，肯定第二第三项掉分我就不给你了是吧？因为你如果没有这张表，第三小问写有地的覆盖和写无主地无地的覆盖都对，范老师都不对。你要没有这张表，我无法判断，无法判断我你无论你写什么，我都给你打错。

那么这个盘主要的他不是在这块，在第二小问除了描述技术赋覆盖之外，我们还要画出存储器设计的新设计图。同理大家来看一下这道题，这比起前面这种出的错，我觉得这道题反而准确率更高。那么这道题说白了 ROM 和 RAM 最核心的一个区别在哪？就是 R 杠 W 飞行这个信号线的直烟机是吧？R 杠 WC 是读写访问控制线，它只能接到 RAM 上面。如果这根线你接到任何一个 ROM，只要你接，我可以保证这张图一分不给你。因为你犯了什么无中生有是吧？你深造一个一根线就 IR 杠 WC。如果有同学接到 ROM 上，只要你接这个图就是错的，因为你这种是犯最致命的基本概念的错误，直接评分。

这个我们过去在评分的时候严格一点，就是评分大纲里面写这个零分是吧？而且为啥我一一一而再再，而上面强调这件事，因为我们我差不多从 10 年开始承担北京地区 408 考试的有关工作。10 年到现在多少年了？每次这个计计算机组成原理，它是 23 分的大题，是一道 11 分，一道 12 分，平均的得分是三就就不到 4 分，平均得分很多。这种细节上就证明在这儿是吧？都是在这出了问题，你别不当真，真是。你你你明年因为说不好听你讲吧？咱们的同学按咱们学校的保研率也最多，也就是 3 分之 1、40%。

那今年钱志龙做保研复试工作，也就 40% 有保研制，剩下 60% 干嘛去了？都跑去考研了。那你你考的话，你试试看，就这些都是 408，就这些东西。说白了我的标准是按照现在考研评分的标准去做的，我从 10 年到现在，每年我基本上都要问这事，就是这种细节。

你说我这个 R 杠 WC 你上面念错了，我给你一分不给是吧？评分标准就这么写的，你怎么办？因为你对我犯了一个本质的概念错误，就 RROM 是半导体指数存储器，他自身就没有读写访问控制线。你写了就说明你基本概念不清楚，是吧？那这个你要纯粹无中生有，这是第一点。

还有点你可以看到很多同学我没有一举出来。大家看一下，我这画的都是带小圆圈的，是吧？就是什么第一遍有效是吧？很多同学你可以看第一遍有效画的时候不太准。

但是话说回来了，这道题就第 16 题的正确率要高于刚才讲第 13 起，就 80% 都跳出了 R 杠 WC 这个读写控制线的这个坑。原告工资应该是，如果是按百分比算的话，90% 同学掌握了。对，但是细节就画画小圆圈这个细节很重，没有掌握。

好吧。那么这个重点我是看 R 杠 WC 这个读写控制线是怎么画的。第二片上信号线接了一个反向去接了一个雨门是吧，这个没什么好说的。也就是说这个。A11 那么 A 十一这根线，A 十一正一线对于 4K 乘以的存储器来说，A11 是下列 D 是吧？但是对于 2K 乘一个 ROM，A11 是 1 个片选信号线，也就是说当 A11V0 和 V1 的时候，分别要选中这两个。

大家看一下这个选中是什么，我隐含什么 A12、A13，它的 CS0 妃和同为零的时候，然后通过 A11 区分 A11 为 0，选上文件 A12 2A11 唯一选择。那么这个 K 信号线就是说这个非门与门的使用是用这个变信号的输出，非实物共同作用是吧。那么如果这样 A11A12 这两个信号线的输入不正，不是同时为零的话，就是 011011A11 作为项目，由这两位同时为零，A11 作为一个片子计划性这个你仔细看，其实这不难，但是画的真细节很多同学说实话就分得不了。

这就是说每年你考试考挺好是吧？最后这一分数一下来跟你所期望的值落差很大，什么原因？而且大家注意一下，咱们按照咱们这种国家考试中心的，也跟高考查分的，考研查分都一样的。只要这个分数没有加错，你说你对于老师的评判的标准提出异议，基本不会给你，不会改判的，这点相当注意一下。因此大家在做这个提示一句话，一定按照最严的标准去要求自。你不按严格要求，按严格要求自己的话，那么意味着有很多情况下就是意外失分，是吧？

就像我刚才说这个问题大家都可以看，大面上都对，结果有人得了八分，有人得了三分，那不会差在哪？就差在细节上。你说难度大吗？不大，但是有人能拿全分，能拿出来，这个需要注意下。上次做你们的这个作业就存在这样的问题。

好，这是第十十六题。那么十 7 题这道其实比较简单，它重点考核的是一个动态刷新的计算问题是吧？第一是画图，画图没什么好说的，就画成这样的图就可以了。主要注意一下我们在画图过程中，片选信号线和读写访问控制线的画画法。一般如果你低电平有效的话，在密码器的输出和存储器的接入地方都要画小是吧？表示是低电瓶的问题，别的难度就没有。这是他的第一个图，这个基本上也都对。

第二题主要是异步刷新。异步刷新我们学了三种刷新方式，集中、分散和异步。按照咱们之前的这个说法，只有异步刷新出最佳方案。因此我的 16K 乘一的芯片内部，事实上是一个 128 乘以 128 列的一个矩形方阵。因此我的动态刷新是按照这个一步刷新的时候，按照行总共是 128 行是吧？

128 行，每次的刷新间隔是用 2 毫秒除以 128。有的同学居然在这儿用 2 除以 128，居然给我约等于 15.5。我们四舍五入是因为是你除不尽了才四舍五入是吧？但是这道题居然有同一个约等于 15.5。如果你写书将这个答案肯定错误是吧？

应该是刷新将近 15.625 准确点。但是 15.625 这个我们直接求解，没有去算。因为这个它只是 15.5 也对，对吧？15.5 就是 45，因为我们每一次操作是 0.5 微秒是吧，15.5 你必须完成这个也对，但刷新是不算是这样的，因此我们最后的总的刷新时间是 0.5 微秒乘以 128 等于 64 微秒。这道起床刷新这个药基本上到 90% 都对。下面咱们看一下最后一道题是吧？

第十八题。这道题是当年北京市差不多在 30 年前，北京市在当年是组织了在京各个高校计算机专业采用了计算机和原理统考试卷的一道题。这道题在当年的平均分就是正确率，不说平均分，正确率只有 10% 几，是一道非常有有水平的考题。咱们一起来看一下。说某一个八位机采用单总线结构，其中地质总线是 16 位，数据总线是八位控制总线，与主存有关的是有 2 个 MREQC 低电平有效允许保存 R 杠 WC 这个读写控制信号。那么 R 杠 C 这已经明确的解释高电平为毒，低电平为血，这是题干的第一部分。

第二部分他告诉咱们的储存的分配方式。其中主主存前 8K 的 0 到 8191 为系统程序区，由 ROM 芯片组成。从 8192 到 32767 为用户程序区，最后 2K 中间为系统程序工作区。上述地址按照十进制表示，并且按照自己编制。

这道题说白了，前面 32K 的空间每个同学都能画出来，因为他直接给你了地址分配的区间没问题。但是最后的这 2K 实际上是烟弹是吧？他写的是最后的两倍空间。这两个站很多人就晕了是吧？事实上。这个冤枉看咱怎么弄回来，待会我们再讲。

这是他的题干，那要求是什么样的？我们给予这样的芯片 RON1 种 8K 乘 8，那么 s rm 4 种 16K 乘一两 K 乘 84K 乘 8 和 8K 乘 8。要求从这几种芯片中选出需要的适用的芯片，并且设计该主存储器。要求大家画出组成的连接图，注意片段信号与 CPU 的连接。

实际上这道题难在哪？难在什么？储存空间的理解，一旦你主动中间的理解是对的，画图是非常简单的。那么主要的最大的最后的两个空间它在什么位置？首先大家看一下题干，他告诉你他的地址总线是 16 位，26 次方等于 64K 是吧？等于 64K 空间，它的主题空间是 64K 那么这 2K 事实上指的是 64K 的。最后的也就说前面 32K 是 ROM 占 8KIM 占 24K 然后会空出 30K 空间之后，最后的 2K 空间才有用。因此我们有这样一个分析图。

有了这张图，后面的工作就迎而解。说白了就这两个空间，你怎么去理解它是最大的？地址空间也就是说大家发现它的地址是不连续的，前面 32K 是连续的，中间凸显出了 30K 空间。最后的免费空间我们才知道，你要你这道题这个总空间是根据地铁线是 16 位 2 的 16 次方等于 30，等于 64K 来决定我这边的描述 OK。那么根据需要我们分别选用 8K 乘 8 的 OM 片，8K 乘 8 的 SY3 片 2K 乘 8 的 S 线？构成了我们这个设计。

对应的这 34K 空间的定向分配画出来。其中前 32K，前 32K 用 A13 到 A15 的高三位设计一个 38 译码器。前 38 译码器的 CS0C 到 CS3C 我用到了最后的译码片选，这个译码技术对应的 CS7 飞？那么我们给出最终的答案来。

这道题核心。在哪？这些读写控制信号低调的描述，大家一定要注意一下。很多同学你去看一下你们那个书？有些同学这个读码器的李建平说不是有的，大部分同学都没有。而且大家可以看一下 MRDQ 当中题干里已经告诉你低电平有效，对吧？

应该接到译码器的这个位置，这个位置叫什么端呢？Enable 端、齿轮端，而且低电池有效。因此在这个里面画一个小圆圈，然后接一个 MRQC 这才对是吧？那么 CS7 飞的输出接一个二字一码器的，以内部端也是画了小圆圈，这样画小圆圈换小来说，描述是低电阻有效。

CS7 分接入的二次码，就你没给我算是吧？只有这个有效，就这三位都是权威要求，对吧？2 一两次它才会激活，然后才用二次 A11A12 做一个一码，选通这 2KB 中间。同样这是一块我考穿入的，还有一个是 R 杠 WC 的话筒，也是只能接 RAMROM 重新接的是吧？反正你接了，那么这个答案就是错误。

那么这是第四章和第五章的作业。一句话，咱们期末考试这种第四章的作业题，第五章作业题的一个方法，肯定不是原题方法，肯定是要考核的这就是每一道题十分，今天上这门课的 20 分就转到了，是吧？这个希望大家一定要注意说话。好，咱们今天上到这儿下课。

这种对这个题干上说告诉。

说他没写过法庭法律，如果。没有，没事。

没，这没问题。对，要什么？

当然我们像我们就是做这个东西没有经验的话。

然后我现在。

不要作为预测。然后他今天出席这个。

设计一个流程。然。比如他的位数是八号，他他的地址就是比第八多了是吧？比方说这就可以去 84 块钱八的，然后或者具体总共是给是多少，那给不出来可能就是多了。那就看你就说有的存储器，比如说存储器它的点这个点线成 20，就是要比如说有可能也可能有可能是正好这都都这个口袋里面多出来的话，他多出来那个你可以用完这里的，就可以用，我直接接地吗？我可以直接接替，或者你做其他程序可以进行骗取，没见过都可以。

那我说那如果是这样的话，我在选择芯片的时候，我说我芯片的位数是不能大于这个存储器的这个位数。他说不能大地址总线的那个数，就是不能大于总的地址线的那个数量就行。那那假如就是我要是自己配置 4K 乘 8 的存储器，我能用 1K 乘以 16 的芯片吗？可以，但是。
